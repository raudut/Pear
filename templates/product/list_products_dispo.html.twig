{% extends "base.html.twig" %}


 {% block title %}Liste des objets{% endblock %}
 
  {% block body %}


    
      <div class="row">
        <div class="col-md-2">
          {%include  'product/_filter.html.twig' with {form: form} only %}
        </div>
      </div>
      <div class="col-md-9"> 
        <div class="grid">
          <table class="table table-hover">         
            <tbody>
            {% if products is defined %}
              {%for product in products %}              
                <tr>
                  <td>{% include 'product/_card.html.twig' with {product: product} only %}</td>                
                  <td>
                    <button type="button" class="btn btn-outline-primary"  onclick="self.location.href='/show-product/{{product.id}}'">Details</button>
                    {% if product.statut[0] == "STATUT_DISPONIBLE" %}
                     <td> <button type="button" class="btn btn-outline-secondary" onclick="self.location.href='/add-borrowing/{{product.id}}'">Emprunter</button> </td>
                     <td> <button type="button" class="btn btn-outline-success disabled" >Rendre</button> </td>
                      {%endif%}
                   {% if product.statut[0] == "STATUT_LOUE" %}
                    <td> <button type="button" class="btn btn-outline-secondary disabled">Emprunter</button> </td>
                    <td>
                      <button type="button" class="btn btn-outline-success" onclick="self.location.href='/rendre-product/{{product.id}}'">Rendre</button>
                    </td>
                    {%endif%} 
                    
                  </td>
                </tr>    			
              {% endfor %}
            {%endif%}
            </tbody>
          </table> 
        </div>    
       </div>
   
  {% endblock %}



